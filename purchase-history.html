<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Verify Purchase - Winkey</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <meta name="theme-color" content="#0078d4">
</head>
  <body>
    <header>
      <div class="container">
        <div class="logo-heading scroll-reveal">
          <span class="windows-logo" aria-label="Windows logo" role="img">
            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="1" y="5" width="13" height="10" fill="#fff"/>
              <rect x="1" y="17" width="13" height="10" fill="#fff"/>
              <rect x="16" y="3" width="15" height="12" fill="#fff"/>
              <rect x="16" y="17" width="15" height="12" fill="#fff"/>
            </svg>
          </span>
          <span class="logo-separator"></span>
          <div class="brand-text">
            <h1 class="animated-gradient">Winkey</h1>
            <span class="tagline">Genuine Windows OS & Licenses</span>
          </div>
        </div>
        <nav>
          <button class="nav-toggle" aria-label="Open navigation menu" aria-expanded="false" aria-controls="mobile-menu">
            <span class="hamburger"></span>
          </button>
          <ul class="nav-links">
            <li><a href="index.html#home">Home</a></li>
            <li><a href="index.html#products">Products</a></li>
            <li><a href="index.html#about">About</a></li>
            <li><a href="index.html#contact">Contact</a></li>
            <li><a href="purchase-history.html">Verify Purchase</a></li>
          </ul>
          <ul class="mobile-menu" id="mobile-menu" hidden>
            <li><a href="index.html#home">Home</a></li>
            <li><a href="index.html#products">Products</a></li>
            <li><a href="index.html#about">About</a></li>
            <li><a href="index.html#contact">Contact</a></li>
            <li><a href="purchase-history.html">Verify Purchase</a></li>
          </ul>
        </nav>
      </div>
    </header>
    <main>
      <div class="container">
        <section class="about scroll-reveal" style="max-width: 900px;">
          <h3 style="text-align:center; margin-bottom: 1.2rem;">Verify Purchase</h3>
          <p style="text-align:center; max-width:720px; margin:0 auto 1.6rem;">Enter your purchase ID to verify your license. You'll find this ID in your confirmation email.</p>
          <form id="verify-form" style="max-width:520px; margin:0 auto; display:flex; gap:.6rem; align-items:stretch;">
            <input type="text" id="purchase-id" name="purchaseId" placeholder="Enter Purchase ID" required style="flex:1;">
            <button type="submit" class="buy-btn" style="min-width:140px;">Verify</button>
          </form>
          <div id="verify-result" style="margin-top:1.2rem; text-align:center;"></div>
        </section>
        </div>
  </main>
    <script src="script.js"></script>
    <script>
      document.getElementById('verify-form').addEventListener('submit', function(e) {
        e.preventDefault();
        const raw = (document.getElementById('purchase-id').value || '').trim();
        const resultEl = document.getElementById('verify-result');
        if (!raw) {
          resultEl.innerHTML = '<p style="color:#b00020;">Please enter a purchase ID.</p>';
          return;
        }
        // Allow only alphanumeric, dash, underscore to form a safe filename
        const safe = raw.replace(/[^a-zA-Z0-9-_]/g, '');
        if (!safe) {
          resultEl.innerHTML = '<p style="color:#b00020;">Invalid ID format. Use letters, numbers, - or _ only.</p>';
          return;
        }
        const target = encodeURIComponent(safe) + '.html';
        window.location.href = target;
      });
    </script>
</body>
</html>